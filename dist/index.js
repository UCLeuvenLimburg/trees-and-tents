(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/js-algorithms/dist/index.js":
/*!**************************************************!*\
  !*** ./node_modules/js-algorithms/dist/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ({\r\n\r\n/***/ \"./node_modules/maybe/dist/index.js\":\r\n/*!******************************************!*\\\r\n  !*** ./node_modules/maybe/dist/index.js ***!\r\n  \\******************************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports) {\r\n\r\neval(\"(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\\r\\n/******/ \\t// The module cache\\r\\n/******/ \\tvar installedModules = {};\\r\\n/******/\\r\\n/******/ \\t// The require function\\r\\n/******/ \\tfunction __webpack_require__(moduleId) {\\r\\n/******/\\r\\n/******/ \\t\\t// Check if module is in cache\\r\\n/******/ \\t\\tif(installedModules[moduleId]) {\\r\\n/******/ \\t\\t\\treturn installedModules[moduleId].exports;\\r\\n/******/ \\t\\t}\\r\\n/******/ \\t\\t// Create a new module (and put it into the cache)\\r\\n/******/ \\t\\tvar module = installedModules[moduleId] = {\\r\\n/******/ \\t\\t\\ti: moduleId,\\r\\n/******/ \\t\\t\\tl: false,\\r\\n/******/ \\t\\t\\texports: {}\\r\\n/******/ \\t\\t};\\r\\n/******/\\r\\n/******/ \\t\\t// Execute the module function\\r\\n/******/ \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\r\\n/******/\\r\\n/******/ \\t\\t// Flag the module as loaded\\r\\n/******/ \\t\\tmodule.l = true;\\r\\n/******/\\r\\n/******/ \\t\\t// Return the exports of the module\\r\\n/******/ \\t\\treturn module.exports;\\r\\n/******/ \\t}\\r\\n/******/\\r\\n/******/\\r\\n/******/ \\t// expose the modules object (__webpack_modules__)\\r\\n/******/ \\t__webpack_require__.m = modules;\\r\\n/******/\\r\\n/******/ \\t// expose the module cache\\r\\n/******/ \\t__webpack_require__.c = installedModules;\\r\\n/******/\\r\\n/******/ \\t// define getter function for harmony exports\\r\\n/******/ \\t__webpack_require__.d = function(exports, name, getter) {\\r\\n/******/ \\t\\tif(!__webpack_require__.o(exports, name)) {\\r\\n/******/ \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\r\\n/******/ \\t\\t}\\r\\n/******/ \\t};\\r\\n/******/\\r\\n/******/ \\t// define __esModule on exports\\r\\n/******/ \\t__webpack_require__.r = function(exports) {\\r\\n/******/ \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\r\\n/******/ \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\r\\n/******/ \\t\\t}\\r\\n/******/ \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\r\\n/******/ \\t};\\r\\n/******/\\r\\n/******/ \\t// create a fake namespace object\\r\\n/******/ \\t// mode & 1: value is a module id, require it\\r\\n/******/ \\t// mode & 2: merge all properties of value into the ns\\r\\n/******/ \\t// mode & 4: return value when already ns object\\r\\n/******/ \\t// mode & 8|1: behave like require\\r\\n/******/ \\t__webpack_require__.t = function(value, mode) {\\r\\n/******/ \\t\\tif(mode & 1) value = __webpack_require__(value);\\r\\n/******/ \\t\\tif(mode & 8) return value;\\r\\n/******/ \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\r\\n/******/ \\t\\tvar ns = Object.create(null);\\r\\n/******/ \\t\\t__webpack_require__.r(ns);\\r\\n/******/ \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\r\\n/******/ \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\r\\n/******/ \\t\\treturn ns;\\r\\n/******/ \\t};\\r\\n/******/\\r\\n/******/ \\t// getDefaultExport function for compatibility with non-harmony modules\\r\\n/******/ \\t__webpack_require__.n = function(module) {\\r\\n/******/ \\t\\tvar getter = module && module.__esModule ?\\r\\n/******/ \\t\\t\\tfunction getDefault() { return module['default']; } :\\r\\n/******/ \\t\\t\\tfunction getModuleExports() { return module; };\\r\\n/******/ \\t\\t__webpack_require__.d(getter, 'a', getter);\\r\\n/******/ \\t\\treturn getter;\\r\\n/******/ \\t};\\r\\n/******/\\r\\n/******/ \\t// Object.prototype.hasOwnProperty.call\\r\\n/******/ \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\r\\n/******/\\r\\n/******/ \\t// __webpack_public_path__\\r\\n/******/ \\t__webpack_require__.p = \\\"\\\";\\r\\n/******/\\r\\n/******/\\r\\n/******/ \\t// Load entry module and return exports\\r\\n/******/ \\treturn __webpack_require__(__webpack_require__.s = \\\"./src/index.ts\\\");\\r\\n/******/ })\\r\\n/************************************************************************/\\r\\n/******/ ({\\r\\n\\r\\n/***/ \\\"./src/index.ts\\\":\\r\\n/*!**********************!*\\\\\\r\\n  !*** ./src/index.ts ***!\\r\\n  \\\\**********************/\\r\\n/*! no static exports found */\\r\\n/***/ (function(module, exports, __webpack_require__) {\\r\\n\\r\\n\\\"use strict\\\";\\r\\neval(\\\"\\\\r\\\\nfunction __export(m) {\\\\r\\\\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\\\\r\\\\n}\\\\r\\\\nObject.defineProperty(exports, \\\\\\\"__esModule\\\\\\\", { value: true });\\\\r\\\\n__export(__webpack_require__(/*! ./maybe */ \\\\\\\"./src/maybe.ts\\\\\\\"));\\\\r\\\\n\\\\n\\\\n//# sourceURL=webpack:///./src/index.ts?\\\");\\r\\n\\r\\n/***/ }),\\r\\n\\r\\n/***/ \\\"./src/maybe.ts\\\":\\r\\n/*!**********************!*\\\\\\r\\n  !*** ./src/maybe.ts ***!\\r\\n  \\\\**********************/\\r\\n/*! no static exports found */\\r\\n/***/ (function(module, exports, __webpack_require__) {\\r\\n\\r\\n\\\"use strict\\\";\\r\\neval(\\\"\\\\r\\\\nvar __extends = (this && this.__extends) || (function () {\\\\r\\\\n    var extendStatics = Object.setPrototypeOf ||\\\\r\\\\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\\\r\\\\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\\\r\\\\n    return function (d, b) {\\\\r\\\\n        extendStatics(d, b);\\\\r\\\\n        function __() { this.constructor = d; }\\\\r\\\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\\\r\\\\n    };\\\\r\\\\n})();\\\\r\\\\nObject.defineProperty(exports, \\\\\\\"__esModule\\\\\\\", { value: true });\\\\r\\\\nvar Maybe = /** @class */ (function () {\\\\r\\\\n    function Maybe() {\\\\r\\\\n    }\\\\r\\\\n    Maybe.just = function (x) {\\\\r\\\\n        return new Just(x);\\\\r\\\\n    };\\\\r\\\\n    Maybe.nothing = function () {\\\\r\\\\n        return new Nothing();\\\\r\\\\n    };\\\\r\\\\n    return Maybe;\\\\r\\\\n}());\\\\r\\\\nexports.Maybe = Maybe;\\\\r\\\\nvar Just = /** @class */ (function (_super) {\\\\r\\\\n    __extends(Just, _super);\\\\r\\\\n    function Just(value) {\\\\r\\\\n        var _this = _super.call(this) || this;\\\\r\\\\n        _this.value = value;\\\\r\\\\n        return _this;\\\\r\\\\n    }\\\\r\\\\n    Just.prototype.bind = function (f) {\\\\r\\\\n        return f(this.value);\\\\r\\\\n    };\\\\r\\\\n    Just.prototype.lift = function (f) {\\\\r\\\\n        return Maybe.just(f(this.value));\\\\r\\\\n    };\\\\r\\\\n    Just.prototype.caseOf = function (cases) {\\\\r\\\\n        return cases.just(this.value);\\\\r\\\\n    };\\\\r\\\\n    Just.prototype.isJust = function () {\\\\r\\\\n        return true;\\\\r\\\\n    };\\\\r\\\\n    Just.prototype.useDefault = function (_) {\\\\r\\\\n        return this;\\\\r\\\\n    };\\\\r\\\\n    return Just;\\\\r\\\\n}(Maybe));\\\\r\\\\nexports.Just = Just;\\\\r\\\\nvar Nothing = /** @class */ (function (_super) {\\\\r\\\\n    __extends(Nothing, _super);\\\\r\\\\n    function Nothing() {\\\\r\\\\n        return _super !== null && _super.apply(this, arguments) || this;\\\\r\\\\n    }\\\\r\\\\n    Nothing.prototype.bind = function (_) {\\\\r\\\\n        return Maybe.nothing();\\\\r\\\\n    };\\\\r\\\\n    Nothing.prototype.lift = function (_) {\\\\r\\\\n        return Maybe.nothing();\\\\r\\\\n    };\\\\r\\\\n    Nothing.prototype.caseOf = function (cases) {\\\\r\\\\n        return cases.nothing();\\\\r\\\\n    };\\\\r\\\\n    Nothing.prototype.isJust = function () {\\\\r\\\\n        return false;\\\\r\\\\n    };\\\\r\\\\n    Nothing.prototype.useDefault = function (t) {\\\\r\\\\n        return Maybe.just(t);\\\\r\\\\n    };\\\\r\\\\n    return Nothing;\\\\r\\\\n}(Maybe));\\\\r\\\\nexports.Nothing = Nothing;\\\\r\\\\n\\\\n\\\\n//# sourceURL=webpack:///./src/maybe.ts?\\\");\\r\\n\\r\\n/***/ })\\r\\n\\r\\n/******/ })));\\n\\n//# sourceURL=webpack:///./node_modules/maybe/dist/index.js?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/algorithms.ts\":\r\n/*!***************************!*\\\r\n  !*** ./src/algorithms.ts ***!\r\n  \\***************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nconst maybe_1 = __webpack_require__(/*! maybe */ \\\"./node_modules/maybe/dist/index.js\\\");\\r\\nfunction count(xs, predicate) {\\r\\n    let result = 0;\\r\\n    for (let x of xs) {\\r\\n        if (predicate(x)) {\\r\\n            result++;\\r\\n        }\\r\\n    }\\r\\n    return result;\\r\\n}\\r\\nexports.count = count;\\r\\nfunction range(from, to) {\\r\\n    if (from >= to) {\\r\\n        return new Array(0);\\r\\n    }\\r\\n    else {\\r\\n        const result = new Array(to - from);\\r\\n        for (let i = 0; i !== result.length; ++i) {\\r\\n            result[i] = from + i;\\r\\n        }\\r\\n        return result;\\r\\n    }\\r\\n}\\r\\nexports.range = range;\\r\\nfunction filter(xs, predicate) {\\r\\n    const result = [];\\r\\n    for (let x of xs) {\\r\\n        if (predicate(x)) {\\r\\n            result.push(x);\\r\\n        }\\r\\n    }\\r\\n    return result;\\r\\n}\\r\\nexports.filter = filter;\\r\\nfunction all(xs, predicate) {\\r\\n    for (let x of xs) {\\r\\n        if (!predicate(x)) {\\r\\n            return false;\\r\\n        }\\r\\n    }\\r\\n    return true;\\r\\n}\\r\\nexports.all = all;\\r\\nfunction any(xs, predicate) {\\r\\n    for (let x of xs) {\\r\\n        if (predicate(x)) {\\r\\n            return true;\\r\\n        }\\r\\n    }\\r\\n    return false;\\r\\n}\\r\\nexports.any = any;\\r\\nfunction find(xs, predicate) {\\r\\n    for (let x of xs) {\\r\\n        if (predicate(x)) {\\r\\n            return maybe_1.Maybe.just(x);\\r\\n        }\\r\\n    }\\r\\n    return maybe_1.Maybe.nothing();\\r\\n}\\r\\nexports.find = find;\\r\\nfunction minimumBy(xs, f) {\\r\\n    let bestScore = Number.POSITIVE_INFINITY;\\r\\n    let best = maybe_1.Maybe.nothing();\\r\\n    for (let x of xs) {\\r\\n        const score = f(x);\\r\\n        if (score < bestScore) {\\r\\n            bestScore = score;\\r\\n            best = maybe_1.Maybe.just(x);\\r\\n        }\\r\\n    }\\r\\n    return best;\\r\\n}\\r\\nexports.minimumBy = minimumBy;\\r\\nfunction maximumBy(xs, f) {\\r\\n    let bestScore = Number.NEGATIVE_INFINITY;\\r\\n    let best = maybe_1.Maybe.nothing();\\r\\n    for (let x of xs) {\\r\\n        const score = f(x);\\r\\n        if (score > bestScore) {\\r\\n            bestScore = score;\\r\\n            best = maybe_1.Maybe.just(x);\\r\\n        }\\r\\n    }\\r\\n    return best;\\r\\n}\\r\\nexports.maximumBy = maximumBy;\\r\\nfunction createArray(length, initializer) {\\r\\n    const result = new Array(length);\\r\\n    for (let i = 0; i !== length; ++i) {\\r\\n        result[i] = initializer(i);\\r\\n    }\\r\\n    return result;\\r\\n}\\r\\nexports.createArray = createArray;\\r\\nfunction repeat(n, x) {\\r\\n    return createArray(n, _ => x);\\r\\n}\\r\\nexports.repeat = repeat;\\r\\nfunction indices(xs) {\\r\\n    return range(0, xs.length);\\r\\n}\\r\\nexports.indices = indices;\\r\\n\\n\\n//# sourceURL=webpack:///./src/algorithms.ts?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/direction.ts\":\r\n/*!**************************!*\\\r\n  !*** ./src/direction.ts ***!\r\n  \\**************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nclass Direction {\\r\\n    constructor(dx, dy) {\\r\\n        this.dx = dx;\\r\\n        this.dy = dy;\\r\\n    }\\r\\n    rotateCW() {\\r\\n        return new Direction(this.dy, -this.dx);\\r\\n    }\\r\\n    rotateCCW() {\\r\\n        return new Direction(-this.dy, this.dx);\\r\\n    }\\r\\n    get angleInDegrees() {\\r\\n        return Math.atan2(this.dy, this.dx) * 180 / Math.PI;\\r\\n    }\\r\\n}\\r\\nexports.Direction = Direction;\\r\\n\\n\\n//# sourceURL=webpack:///./src/direction.ts?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/grid.ts\":\r\n/*!*********************!*\\\r\n  !*** ./src/grid.ts ***!\r\n  \\*********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nconst position_1 = __webpack_require__(/*! ./position */ \\\"./src/position.ts\\\");\\r\\nconst algorithms_1 = __webpack_require__(/*! ./algorithms */ \\\"./src/algorithms.ts\\\");\\r\\nclass Grid {\\r\\n    row(rowIndex) {\\r\\n        if (rowIndex >= this.height) {\\r\\n            throw new Error(`rowIndex out of range`);\\r\\n        }\\r\\n        else {\\r\\n            return algorithms_1.range(0, this.width).map(columnIndex => this.at(new position_1.Position(columnIndex, rowIndex)));\\r\\n        }\\r\\n    }\\r\\n    column(columnIndex) {\\r\\n        if (columnIndex >= this.width) {\\r\\n            throw new Error(`columnIndex out of range`);\\r\\n        }\\r\\n        else {\\r\\n            return algorithms_1.range(0, this.height).map(rowIndex => this.at(new position_1.Position(columnIndex, rowIndex)));\\r\\n        }\\r\\n    }\\r\\n    *generatePositions() {\\r\\n        for (let y = 0; y !== this.height; ++y) {\\r\\n            for (let x = 0; x !== this.width; ++x) {\\r\\n                const position = new position_1.Position(x, y);\\r\\n                yield position;\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    get positions() {\\r\\n        return this.generatePositions();\\r\\n    }\\r\\n    isInside(position) {\\r\\n        return 0 <= position.x && position.x < this.width && 0 <= position.y && position.y < this.height;\\r\\n    }\\r\\n    toColumnArray() {\\r\\n        return algorithms_1.range(0, this.width).map(x => this.column(x));\\r\\n    }\\r\\n    toRowArray() {\\r\\n        return algorithms_1.range(0, this.height).map(y => this.row(y));\\r\\n    }\\r\\n    findPositions(predicate) {\\r\\n        return algorithms_1.filter(this.positions, (p) => predicate(this.at(p)));\\r\\n    }\\r\\n    map(f) {\\r\\n        return new ConcreteGrid(this.width, this.height, p => f(this.at(p)));\\r\\n    }\\r\\n    vmap(f) {\\r\\n        return new VirtualGrid(this.width, this.height, p => f(this.at(p)));\\r\\n    }\\r\\n    equal(grid, comparer) {\\r\\n        if (this.width !== grid.width || this.height !== grid.height) {\\r\\n            return false;\\r\\n        }\\r\\n        else {\\r\\n            return algorithms_1.all(this.positions, p => comparer(this.at(p), grid.at(p)));\\r\\n        }\\r\\n    }\\r\\n    around4(position) {\\r\\n        return algorithms_1.filter(position.around4, p => this.isInside(p));\\r\\n    }\\r\\n    around8(position) {\\r\\n        return algorithms_1.filter(position.around8, p => this.isInside(p));\\r\\n    }\\r\\n}\\r\\nexports.Grid = Grid;\\r\\nclass ConcreteGrid extends Grid {\\r\\n    constructor(width, height, initializer) {\\r\\n        super();\\r\\n        this.width = width;\\r\\n        this.height = height;\\r\\n        this.items = new Array(height);\\r\\n        for (let y = 0; y !== height; ++y) {\\r\\n            this.items[y] = new Array(width);\\r\\n            for (let x = 0; x !== width; ++x) {\\r\\n                const position = new position_1.Position(x, y);\\r\\n                this.items[y][x] = initializer(position);\\r\\n            }\\r\\n        }\\r\\n    }\\r\\n    at(position) {\\r\\n        if (!this.isInside(position)) {\\r\\n            throw new Error(`Invalid position ${position.toString()}`);\\r\\n        }\\r\\n        else {\\r\\n            return this.items[position.y][position.x];\\r\\n        }\\r\\n    }\\r\\n}\\r\\nclass VirtualGrid extends Grid {\\r\\n    constructor(width, height, fetch) {\\r\\n        super();\\r\\n        this.width = width;\\r\\n        this.height = height;\\r\\n        this.fetch = fetch;\\r\\n    }\\r\\n    at(position) {\\r\\n        if (!this.isInside(position)) {\\r\\n            throw new Error(`Invalid position ${position.toString()}`);\\r\\n        }\\r\\n        else {\\r\\n            return this.fetch(position);\\r\\n        }\\r\\n    }\\r\\n}\\r\\nfunction createGrid(width, height, initializer) {\\r\\n    return new ConcreteGrid(width, height, initializer);\\r\\n}\\r\\nexports.createGrid = createGrid;\\r\\n\\n\\n//# sourceURL=webpack:///./src/grid.ts?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/index.ts\":\r\n/*!**********************!*\\\r\n  !*** ./src/index.ts ***!\r\n  \\**********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nfunction __export(m) {\\r\\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\\r\\n}\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\n__export(__webpack_require__(/*! ./algorithms */ \\\"./src/algorithms.ts\\\"));\\r\\n__export(__webpack_require__(/*! ./direction */ \\\"./src/direction.ts\\\"));\\r\\n__export(__webpack_require__(/*! ./position */ \\\"./src/position.ts\\\"));\\r\\n__export(__webpack_require__(/*! ./grid */ \\\"./src/grid.ts\\\"));\\r\\n\\n\\n//# sourceURL=webpack:///./src/index.ts?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/position.ts\":\r\n/*!*************************!*\\\r\n  !*** ./src/position.ts ***!\r\n  \\*************************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nclass Position {\\r\\n    constructor(x, y) {\\r\\n        this.x = x;\\r\\n        this.y = y;\\r\\n    }\\r\\n    add(direction) {\\r\\n        return new Position(this.x + direction.dx, this.y + direction.dy);\\r\\n    }\\r\\n    get around4() {\\r\\n        const result = new Array(4);\\r\\n        result[0] = new Position(this.x - 1, this.y);\\r\\n        result[1] = new Position(this.x + 1, this.y);\\r\\n        result[2] = new Position(this.x, this.y - 1);\\r\\n        result[3] = new Position(this.x, this.y + 1);\\r\\n        return result;\\r\\n    }\\r\\n    get around8() {\\r\\n        const result = new Array(8);\\r\\n        result[0] = new Position(this.x + 1, this.y);\\r\\n        result[1] = new Position(this.x + 1, this.y + 1);\\r\\n        result[2] = new Position(this.x, this.y + 1);\\r\\n        result[3] = new Position(this.x - 1, this.y + 1);\\r\\n        result[4] = new Position(this.x - 1, this.y);\\r\\n        result[5] = new Position(this.x - 1, this.y - 1);\\r\\n        result[6] = new Position(this.x, this.y - 1);\\r\\n        result[7] = new Position(this.x + 1, this.y - 1);\\r\\n        return result;\\r\\n    }\\r\\n    touches4(p) {\\r\\n        const dx = Math.abs(this.x - p.x);\\r\\n        const dy = Math.abs(this.y - p.y);\\r\\n        return (dx === 1 && dy === 0) || (dx === 0 && dy === 1);\\r\\n    }\\r\\n    touches8(p) {\\r\\n        const dx = Math.abs(this.x - p.x);\\r\\n        const dy = Math.abs(this.y - p.y);\\r\\n        return (dx === 0 || dx === 1) && (dy === 0 || dy === 1) && (dx !== 0 || dy !== 0);\\r\\n    }\\r\\n}\\r\\nexports.Position = Position;\\r\\n\\n\\n//# sourceURL=webpack:///./src/position.ts?\");\r\n\r\n/***/ })\r\n\r\n/******/ })));\n\n//# sourceURL=webpack:///./node_modules/js-algorithms/dist/index.js?");

/***/ }),

/***/ "./node_modules/maybe/dist/index.js":
/*!******************************************!*\
  !*** ./node_modules/maybe/dist/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("(function(e, a) { for(var i in a) e[i] = a[i]; }(exports, /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// define __esModule on exports\r\n/******/ \t__webpack_require__.r = function(exports) {\r\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\r\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\r\n/******/ \t\t}\r\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\r\n/******/ \t};\r\n/******/\r\n/******/ \t// create a fake namespace object\r\n/******/ \t// mode & 1: value is a module id, require it\r\n/******/ \t// mode & 2: merge all properties of value into the ns\r\n/******/ \t// mode & 4: return value when already ns object\r\n/******/ \t// mode & 8|1: behave like require\r\n/******/ \t__webpack_require__.t = function(value, mode) {\r\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\r\n/******/ \t\tif(mode & 8) return value;\r\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\r\n/******/ \t\tvar ns = Object.create(null);\r\n/******/ \t\t__webpack_require__.r(ns);\r\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\r\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\r\n/******/ \t\treturn ns;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ({\r\n\r\n/***/ \"./src/index.ts\":\r\n/*!**********************!*\\\r\n  !*** ./src/index.ts ***!\r\n  \\**********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nfunction __export(m) {\\r\\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\\r\\n}\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\n__export(__webpack_require__(/*! ./maybe */ \\\"./src/maybe.ts\\\"));\\r\\n\\n\\n//# sourceURL=webpack:///./src/index.ts?\");\r\n\r\n/***/ }),\r\n\r\n/***/ \"./src/maybe.ts\":\r\n/*!**********************!*\\\r\n  !*** ./src/maybe.ts ***!\r\n  \\**********************/\r\n/*! no static exports found */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\neval(\"\\r\\nvar __extends = (this && this.__extends) || (function () {\\r\\n    var extendStatics = Object.setPrototypeOf ||\\r\\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\r\\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\\r\\n    return function (d, b) {\\r\\n        extendStatics(d, b);\\r\\n        function __() { this.constructor = d; }\\r\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\r\\n    };\\r\\n})();\\r\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\r\\nvar Maybe = /** @class */ (function () {\\r\\n    function Maybe() {\\r\\n    }\\r\\n    Maybe.just = function (x) {\\r\\n        return new Just(x);\\r\\n    };\\r\\n    Maybe.nothing = function () {\\r\\n        return new Nothing();\\r\\n    };\\r\\n    return Maybe;\\r\\n}());\\r\\nexports.Maybe = Maybe;\\r\\nvar Just = /** @class */ (function (_super) {\\r\\n    __extends(Just, _super);\\r\\n    function Just(value) {\\r\\n        var _this = _super.call(this) || this;\\r\\n        _this.value = value;\\r\\n        return _this;\\r\\n    }\\r\\n    Just.prototype.bind = function (f) {\\r\\n        return f(this.value);\\r\\n    };\\r\\n    Just.prototype.lift = function (f) {\\r\\n        return Maybe.just(f(this.value));\\r\\n    };\\r\\n    Just.prototype.caseOf = function (cases) {\\r\\n        return cases.just(this.value);\\r\\n    };\\r\\n    Just.prototype.isJust = function () {\\r\\n        return true;\\r\\n    };\\r\\n    Just.prototype.useDefault = function (_) {\\r\\n        return this;\\r\\n    };\\r\\n    return Just;\\r\\n}(Maybe));\\r\\nexports.Just = Just;\\r\\nvar Nothing = /** @class */ (function (_super) {\\r\\n    __extends(Nothing, _super);\\r\\n    function Nothing() {\\r\\n        return _super !== null && _super.apply(this, arguments) || this;\\r\\n    }\\r\\n    Nothing.prototype.bind = function (_) {\\r\\n        return Maybe.nothing();\\r\\n    };\\r\\n    Nothing.prototype.lift = function (_) {\\r\\n        return Maybe.nothing();\\r\\n    };\\r\\n    Nothing.prototype.caseOf = function (cases) {\\r\\n        return cases.nothing();\\r\\n    };\\r\\n    Nothing.prototype.isJust = function () {\\r\\n        return false;\\r\\n    };\\r\\n    Nothing.prototype.useDefault = function (t) {\\r\\n        return Maybe.just(t);\\r\\n    };\\r\\n    return Nothing;\\r\\n}(Maybe));\\r\\nexports.Nothing = Nothing;\\r\\n\\n\\n//# sourceURL=webpack:///./src/maybe.ts?\");\r\n\r\n/***/ })\r\n\r\n/******/ })));\n\n//# sourceURL=webpack:///./node_modules/maybe/dist/index.js?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst square_1 = __webpack_require__(/*! ./square */ \"./src/square.ts\");\r\nconst state_1 = __webpack_require__(/*! ./state */ \"./src/state.ts\");\r\nconst solve_1 = __webpack_require__(/*! ./solve */ \"./src/solve.ts\");\r\nconst js_algorithms_1 = __webpack_require__(/*! js-algorithms */ \"./node_modules/js-algorithms/dist/index.js\");\r\nfunction* solve(trees, rowConstraints, columnConstraints) {\r\n    const width = trees.length;\r\n    const height = trees[0].length;\r\n    const treeGrid = js_algorithms_1.createGrid(width, height, p => trees[p.x][p.y]);\r\n    if (treeGrid.width !== columnConstraints.length || treeGrid.height !== rowConstraints.length) {\r\n        throw new Error(`Constraints not compatible with grid`);\r\n    }\r\n    else {\r\n        const grid = treeGrid.map(x => new square_1.Square(x ? state_1.State.Tree : state_1.State.Unknown));\r\n        for (let solution of solve_1.generateSolutions(grid, rowConstraints, columnConstraints)) {\r\n            yield solution.map(s => s.state === state_1.State.Tent).toColumnArray();\r\n        }\r\n    }\r\n}\r\nexports.solve = solve;\r\nfunction solve1(trees, rowConstraints, columnConstraints) {\r\n    const solutions = Array.from(solve(trees, rowConstraints, columnConstraints));\r\n    if (solutions.length !== 1) {\r\n        throw new Error(`${solutions.length} solutions found`);\r\n    }\r\n    else {\r\n        return solutions[0];\r\n    }\r\n}\r\nexports.solve1 = solve1;\r\n\n\n//# sourceURL=webpack:///./src/index.ts?");

/***/ }),

/***/ "./src/solve.ts":
/*!**********************!*\
  !*** ./src/solve.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst js_algorithms_1 = __webpack_require__(/*! js-algorithms */ \"./node_modules/js-algorithms/dist/index.js\");\r\nconst maybe_1 = __webpack_require__(/*! maybe */ \"./node_modules/maybe/dist/index.js\");\r\nconst square_1 = __webpack_require__(/*! ./square */ \"./src/square.ts\");\r\nconst state_1 = __webpack_require__(/*! ./state */ \"./src/state.ts\");\r\nconst validate_1 = __webpack_require__(/*! ./validate */ \"./src/validate.ts\");\r\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/util.ts\");\r\nfunction* generateSolutions(grid, rowConstraints, columnConstraints) {\r\n    if (util_1.noUnknownsLeft(grid)) {\r\n        if (validate_1.isSolved(grid, rowConstraints, columnConstraints)) {\r\n            yield grid;\r\n        }\r\n    }\r\n    else {\r\n        setTreelessSquaresToEmpty(grid);\r\n        if (simplifyGrid(grid, rowConstraints, columnConstraints)) {\r\n            if (util_1.noUnknownsLeft(grid)) {\r\n                if (validate_1.isSolved(grid, rowConstraints, columnConstraints)) {\r\n                    yield grid;\r\n                }\r\n            }\r\n            else {\r\n                yield* guess(grid, rowConstraints, columnConstraints);\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.generateSolutions = generateSolutions;\r\nfunction simplifyGrid(grid, rowConstraints, columnConstraints) {\r\n    let before;\r\n    let after;\r\n    do {\r\n        before = util_1.unknownCount(grid);\r\n        if (before === 0) {\r\n            after = 0;\r\n        }\r\n        else {\r\n            placeTentNextToTreesSurroundedByThreeEmptySquares(grid);\r\n            if (!fillInUnambiguousSquares(grid, rowConstraints, columnConstraints) || !addPossibilityIntersections(grid, rowConstraints, columnConstraints)) {\r\n                return false;\r\n            }\r\n            after = util_1.unknownCount(grid);\r\n        }\r\n    } while (after < before);\r\n    return validate_1.isValid(grid, rowConstraints, columnConstraints);\r\n}\r\nfunction* guess(grid, rowConstraints, columnConstraints) {\r\n    const maybeUnknownPosition = findUnknownPosition(grid);\r\n    if (maybeUnknownPosition.isJust()) {\r\n        const unknownPosition = maybeUnknownPosition.value;\r\n        const copied1 = util_1.copy(grid);\r\n        copied1.at(unknownPosition).state = state_1.State.Empty;\r\n        yield* generateSolutions(copied1, rowConstraints, columnConstraints);\r\n        const copied2 = util_1.copy(grid);\r\n        copied2.at(unknownPosition).state = state_1.State.Tent;\r\n        yield* generateSolutions(copied2, rowConstraints, columnConstraints);\r\n    }\r\n    else {\r\n        throw new Error(`Bug: there should be at least one unknown`);\r\n    }\r\n}\r\nfunction setTreelessSquaresToEmpty(grid) {\r\n    for (let position of grid.positions) {\r\n        if (isTreeLessSquare(position)) {\r\n            grid.at(position).state = state_1.State.Empty;\r\n        }\r\n    }\r\n    function isTreeLessSquare(position) {\r\n        return util_1.isUnknownAt(grid, position) && !util_1.hasTreeAround(grid, position);\r\n    }\r\n}\r\nexports.setTreelessSquaresToEmpty = setTreelessSquaresToEmpty;\r\nfunction intersectionOfPossibilities(combinations) {\r\n    const iterator = combinations[Symbol.iterator]();\r\n    const first = iterator.next();\r\n    if (first.done) {\r\n        return maybe_1.Maybe.nothing();\r\n    }\r\n    else {\r\n        let iterationsLeft = 4;\r\n        const common = first.value;\r\n        const emptyNeighbors = js_algorithms_1.repeat(common.length, true);\r\n        updateEmptyNeighbors(emptyNeighbors, first.value);\r\n        let current = iterator.next();\r\n        while (!current.done) {\r\n            const sequence = current.value;\r\n            for (let i = 0; i !== sequence.length; ++i) {\r\n                if (common[i].state !== sequence[i].state) {\r\n                    common[i].state = state_1.State.Unknown;\r\n                }\r\n            }\r\n            updateEmptyNeighbors(emptyNeighbors, sequence);\r\n            if (iterationsLeft > 0) {\r\n                iterationsLeft--;\r\n                current = iterator.next();\r\n            }\r\n            else {\r\n                return maybe_1.Maybe.just({\r\n                    common: common.map(_ => new square_1.Square(state_1.State.Unknown)),\r\n                    emptyNeighbors: emptyNeighbors.map(_ => false)\r\n                });\r\n            }\r\n        }\r\n        return maybe_1.Maybe.just({ common, emptyNeighbors });\r\n    }\r\n    function tentInProximity(sequence, i) {\r\n        let result = false;\r\n        result = result || (i > 0 && sequence[i - 1].state === state_1.State.Tent);\r\n        result = result || sequence[i].state === state_1.State.Tent;\r\n        result = result || (i + 1 < sequence.length && sequence[i + 1].state === state_1.State.Tent);\r\n        return result;\r\n    }\r\n    function updateEmptyNeighbors(emptyNeighbors, sequence) {\r\n        for (let i = 0; i !== sequence.length; ++i) {\r\n            if (!tentInProximity(sequence, i)) {\r\n                emptyNeighbors[i] = false;\r\n            }\r\n        }\r\n    }\r\n}\r\nexports.intersectionOfPossibilities = intersectionOfPossibilities;\r\nfunction addPossibilityIntersections(grid, rowConstraints, columnConstraints) {\r\n    if (js_algorithms_1.any(js_algorithms_1.range(0, grid.height), y => !addPossibilityIntersectionToRow(grid, y, rowConstraints[y]))) {\r\n        return false;\r\n    }\r\n    if (js_algorithms_1.any(js_algorithms_1.range(0, grid.width), x => !addPossibilityIntersectionToColumn(grid, x, columnConstraints[x]))) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nexports.addPossibilityIntersections = addPossibilityIntersections;\r\nfunction addPossibilityIntersectionToRow(grid, rowIndex, rowConstraint) {\r\n    return addPossibilityIntersectionsToSequence(grid.row(rowIndex), rowConstraint, x => isTentAllowedAt(grid, new js_algorithms_1.Position(x, rowIndex)), neighboringRows(grid, rowIndex));\r\n}\r\nexports.addPossibilityIntersectionToRow = addPossibilityIntersectionToRow;\r\nfunction addPossibilityIntersectionToColumn(grid, columnIndex, columnConstraint) {\r\n    return addPossibilityIntersectionsToSequence(grid.column(columnIndex), columnConstraint, y => isTentAllowedAt(grid, new js_algorithms_1.Position(columnIndex, y)), neighboringColumns(grid, columnIndex));\r\n}\r\nexports.addPossibilityIntersectionToColumn = addPossibilityIntersectionToColumn;\r\nfunction addPossibilityIntersectionsToSequence(sequence, constraint, tentAllowed, neighbors) {\r\n    const combinations = generatePossibilities(sequence, constraint, tentAllowed);\r\n    const result = intersectionOfPossibilities(combinations);\r\n    if (result.isJust()) {\r\n        const { common, emptyNeighbors } = result.value;\r\n        for (let i of js_algorithms_1.indices(common)) {\r\n            if (sequence[i].state === state_1.State.Unknown) {\r\n                sequence[i].state = common[i].state;\r\n            }\r\n            if (emptyNeighbors[i]) {\r\n                for (let neighbor of neighbors) {\r\n                    if (neighbor[i].state === state_1.State.Unknown) {\r\n                        neighbor[i].state = state_1.State.Empty;\r\n                    }\r\n                    else if (neighbor[i].state === state_1.State.Tent) {\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\nfunction neighboringRows(grid, y) {\r\n    const result = [];\r\n    if (y > 0) {\r\n        result.push(grid.row(y - 1));\r\n    }\r\n    if (y + 1 < grid.height) {\r\n        result.push(grid.row(y + 1));\r\n    }\r\n    return result;\r\n}\r\nfunction neighboringColumns(grid, x) {\r\n    const result = [];\r\n    if (x > 0) {\r\n        result.push(grid.column(x - 1));\r\n    }\r\n    if (x + 1 < grid.width) {\r\n        result.push(grid.column(x + 1));\r\n    }\r\n    return result;\r\n}\r\nfunction isTentAllowedAt(grid, position) {\r\n    return grid.at(position).state === state_1.State.Unknown && !util_1.hasTentAround(grid, position) && util_1.hasTreeAround(grid, position);\r\n}\r\nexports.isTentAllowedAt = isTentAllowedAt;\r\nfunction generatePossibilities(sequence, constraint, tentAllowed) {\r\n    const nTents = js_algorithms_1.count(sequence, s => s.state === state_1.State.Tent);\r\n    const nTentsLeftToPlace = constraint - nTents;\r\n    return generate(util_1.copySequence(sequence), 0, nTentsLeftToPlace);\r\n    function* generate(sequence, i, nTentsLeftToPlace) {\r\n        while (i !== sequence.length && sequence[i].state !== state_1.State.Unknown) {\r\n            ++i;\r\n        }\r\n        if (i === sequence.length) {\r\n            if (nTentsLeftToPlace === 0) {\r\n                yield sequence;\r\n            }\r\n        }\r\n        else {\r\n            if (nTentsLeftToPlace > 0 && (i === 0 || sequence[i - 1].state !== state_1.State.Tent) && tentAllowed(i)) {\r\n                const copy = util_1.copySequence(sequence);\r\n                copy[i].state = state_1.State.Tent;\r\n                yield* generate(copy, i + 1, nTentsLeftToPlace - 1);\r\n            }\r\n            const copy = util_1.copySequence(sequence);\r\n            copy[i].state = state_1.State.Empty;\r\n            yield* generate(copy, i + 1, nTentsLeftToPlace);\r\n        }\r\n    }\r\n}\r\nexports.generatePossibilities = generatePossibilities;\r\nfunction findUnknownPosition(grid) {\r\n    return js_algorithms_1.find(grid.positions, p => util_1.isUnknownAt(grid, p));\r\n}\r\nfunction placeTentNextToTreesSurroundedByThreeEmptySquares(grid) {\r\n    for (let y = 0; y !== grid.height; ++y) {\r\n        for (let x = 0; x !== grid.width; ++x) {\r\n            const position = new js_algorithms_1.Position(x, y);\r\n            placeTentNextToTreesSurroundedByThreeEmptySquaresAt(grid, position);\r\n        }\r\n    }\r\n}\r\nfunction placeTentNextToTreesSurroundedByThreeEmptySquaresAt(grid, position) {\r\n    if (grid.at(position).state === state_1.State.Tree) {\r\n        const unknowns = util_1.unknownsAround(grid, position);\r\n        const nEmpty = util_1.countEmptyAround(grid, position);\r\n        if (unknowns.length === 1 && nEmpty === 3) {\r\n            const unknownPosition = unknowns[0];\r\n            grid.at(unknownPosition).state = state_1.State.Tent;\r\n        }\r\n    }\r\n}\r\nfunction fillInUnambiguousSquares(grid, rowConstraints, columnConstraints) {\r\n    return processRows() && processColumns();\r\n    function processRows() {\r\n        return js_algorithms_1.all(js_algorithms_1.range(0, grid.height), y => processSequence(grid.row(y), rowConstraints[y]));\r\n    }\r\n    function processColumns() {\r\n        return js_algorithms_1.all(js_algorithms_1.range(0, grid.width), x => processSequence(grid.column(x), columnConstraints[x]));\r\n    }\r\n    function processSequence(sequence, constraint) {\r\n        const unknowns = js_algorithms_1.filter(sequence, s => s.state == state_1.State.Unknown);\r\n        const nTents = js_algorithms_1.count(sequence, s => s.state == state_1.State.Tent);\r\n        if (nTents === constraint) {\r\n            for (let unknown of unknowns) {\r\n                unknown.state = state_1.State.Empty;\r\n            }\r\n            return true;\r\n        }\r\n        else if (nTents + unknowns.length === constraint) {\r\n            for (let unknown of unknowns) {\r\n                unknown.state = state_1.State.Tent;\r\n            }\r\n            return true;\r\n        }\r\n        else if (nTents + unknowns.length < constraint) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\n\n//# sourceURL=webpack:///./src/solve.ts?");

/***/ }),

/***/ "./src/square.ts":
/*!***********************!*\
  !*** ./src/square.ts ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass Square {\r\n    constructor(initialValue) {\r\n        this.state = initialValue;\r\n    }\r\n    copy() {\r\n        return new Square(this.state);\r\n    }\r\n}\r\nexports.Square = Square;\r\n\n\n//# sourceURL=webpack:///./src/square.ts?");

/***/ }),

/***/ "./src/state.ts":
/*!**********************!*\
  !*** ./src/state.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar State;\r\n(function (State) {\r\n    State[State[\"Unknown\"] = 0] = \"Unknown\";\r\n    State[State[\"Empty\"] = 1] = \"Empty\";\r\n    State[State[\"Tree\"] = 2] = \"Tree\";\r\n    State[State[\"Tent\"] = 3] = \"Tent\";\r\n})(State = exports.State || (exports.State = {}));\r\n\n\n//# sourceURL=webpack:///./src/state.ts?");

/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst js_algorithms_1 = __webpack_require__(/*! js-algorithms */ \"./node_modules/js-algorithms/dist/index.js\");\r\nconst state_1 = __webpack_require__(/*! ./state */ \"./src/state.ts\");\r\nfunction isUnknownAt(grid, position) {\r\n    return grid.at(position).state === state_1.State.Unknown;\r\n}\r\nexports.isUnknownAt = isUnknownAt;\r\nfunction isTreeAt(grid, position) {\r\n    return grid.at(position).state === state_1.State.Tree;\r\n}\r\nexports.isTreeAt = isTreeAt;\r\nfunction isTentAt(grid, position) {\r\n    return grid.at(position).state === state_1.State.Tent;\r\n}\r\nexports.isTentAt = isTentAt;\r\nfunction isEmptyAt(grid, position) {\r\n    return grid.at(position).state === state_1.State.Empty;\r\n}\r\nexports.isEmptyAt = isEmptyAt;\r\nfunction hasTreeAround(grid, position) {\r\n    return js_algorithms_1.any(grid.around4(position), p => grid.at(p).state === state_1.State.Tree);\r\n}\r\nexports.hasTreeAround = hasTreeAround;\r\nfunction hasTentAround(grid, position) {\r\n    return js_algorithms_1.any(grid.around8(position), p => grid.at(p).state === state_1.State.Tent);\r\n}\r\nexports.hasTentAround = hasTentAround;\r\nfunction noUnknownsLeft(grid) {\r\n    return js_algorithms_1.all(grid.positions, p => grid.at(p).state !== state_1.State.Unknown);\r\n}\r\nexports.noUnknownsLeft = noUnknownsLeft;\r\nfunction unknownCount(grid) {\r\n    return js_algorithms_1.count(grid.positions, p => isUnknownAt(grid, p));\r\n}\r\nexports.unknownCount = unknownCount;\r\nfunction unknownsAround(grid, position) {\r\n    return js_algorithms_1.filter(grid.around4(position), p => isUnknownAt(grid, p));\r\n}\r\nexports.unknownsAround = unknownsAround;\r\nfunction countEmptyAround(grid, position) {\r\n    return js_algorithms_1.count(grid.around4(position), p => isEmptyAt(grid, p));\r\n}\r\nexports.countEmptyAround = countEmptyAround;\r\nfunction copy(grid) {\r\n    return grid.map(x => x.copy());\r\n}\r\nexports.copy = copy;\r\nfunction copySequence(sequence) {\r\n    return sequence.map(x => x.copy());\r\n}\r\nexports.copySequence = copySequence;\r\nfunction show(grid) {\r\n    return js_algorithms_1.range(0, grid.height).map(i => showSequence(grid.row(i))).join(\"|\");\r\n}\r\nexports.show = show;\r\nfunction showSequence(sequence) {\r\n    return sequence.map(x => toChar(x.state)).join('');\r\n    function toChar(c) {\r\n        if (c === state_1.State.Empty)\r\n            return '.';\r\n        else if (c === state_1.State.Tent)\r\n            return 't';\r\n        else if (c === state_1.State.Tree)\r\n            return 'T';\r\n        else if (c === state_1.State.Unknown)\r\n            return '?';\r\n        else\r\n            throw new Error(`Bug`);\r\n    }\r\n}\r\nexports.showSequence = showSequence;\r\n\n\n//# sourceURL=webpack:///./src/util.ts?");

/***/ }),

/***/ "./src/validate.ts":
/*!*************************!*\
  !*** ./src/validate.ts ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst js_algorithms_1 = __webpack_require__(/*! js-algorithms */ \"./node_modules/js-algorithms/dist/index.js\");\r\nconst state_1 = __webpack_require__(/*! ./state */ \"./src/state.ts\");\r\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/util.ts\");\r\nfunction sequenceSatisfiesConstraint(sequence, constraint) {\r\n    const nTents = js_algorithms_1.count(sequence, s => s.state === state_1.State.Tent);\r\n    const nUnknowns = js_algorithms_1.count(sequence, s => s.state === state_1.State.Unknown);\r\n    return nTents <= constraint && nTents + nUnknowns >= constraint;\r\n}\r\nexports.sequenceSatisfiesConstraint = sequenceSatisfiesConstraint;\r\nfunction gridSatisfiesConstraints(grid, rowConstraints, columnConstraints) {\r\n    return rowsSatisfyConstraints(grid, rowConstraints) && columnsSatisfyConstraints(grid, columnConstraints);\r\n}\r\nexports.gridSatisfiesConstraints = gridSatisfiesConstraints;\r\nfunction rowsSatisfyConstraints(grid, rowConstraints) {\r\n    return js_algorithms_1.all(js_algorithms_1.range(0, grid.height), y => sequenceSatisfiesConstraint(grid.row(y), rowConstraints[y]));\r\n}\r\nfunction columnsSatisfyConstraints(grid, columnConstraints) {\r\n    return js_algorithms_1.all(js_algorithms_1.range(0, grid.width), x => sequenceSatisfiesConstraint(grid.column(x), columnConstraints[x]));\r\n}\r\nfunction containsTouchingTents(grid) {\r\n    return js_algorithms_1.any(grid.positions, p => tentsTouchAt(grid, p));\r\n}\r\nexports.containsTouchingTents = containsTouchingTents;\r\nfunction tentsTouchAt(grid, position) {\r\n    return util_1.isTentAt(grid, position) && util_1.hasTentAround(grid, position);\r\n}\r\nfunction containsLoneTree(grid) {\r\n    return js_algorithms_1.any(grid.positions, p => isLoneTree(grid, p));\r\n}\r\nexports.containsLoneTree = containsLoneTree;\r\nfunction isLoneTree(grid, position) {\r\n    if (util_1.isTreeAt(grid, position)) {\r\n        return js_algorithms_1.all(grid.around4(position), p => noTent(p));\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n    function noTent(p) {\r\n        const state = grid.at(p).state;\r\n        return state !== state_1.State.Unknown && state !== state_1.State.Tent;\r\n    }\r\n}\r\nfunction containsLoneTent(grid) {\r\n    return js_algorithms_1.any(grid.positions, p => isLoneTent(grid, p));\r\n}\r\nexports.containsLoneTent = containsLoneTent;\r\nfunction isLoneTent(grid, position) {\r\n    return util_1.isTentAt(grid, position) && !util_1.hasTreeAround(grid, position);\r\n}\r\nfunction tentTreeBijectionExists(grid) {\r\n    const trees = js_algorithms_1.filter(grid.positions, p => grid.at(p).state === state_1.State.Tree);\r\n    const tents = js_algorithms_1.filter(grid.positions, p => grid.at(p).state === state_1.State.Tent);\r\n    if (trees.length === tents.length) {\r\n        return associate(trees, tents);\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n    function associate(trees, tents) {\r\n        lonePruningFixedPoint(trees, tents);\r\n        if (trees.length === 0) {\r\n            return true;\r\n        }\r\n        else {\r\n            const tree = trees[0];\r\n            const neighbors = js_algorithms_1.filter(js_algorithms_1.indices(tents), p => tree.touches4(tents[p]));\r\n            return js_algorithms_1.any(neighbors, neighbor => {\r\n                const treesRest = trees.slice(1);\r\n                const tentsRest = tents.slice();\r\n                tentsRest.splice(neighbor, 1);\r\n                return associate(treesRest, tentsRest);\r\n            });\r\n        }\r\n    }\r\n    function lonePruningFixedPoint(trees, tents) {\r\n        let before;\r\n        let after;\r\n        do {\r\n            before = trees.length;\r\n            if (!pruneLoneNeighbors(trees, tents)) {\r\n                return false;\r\n            }\r\n            if (!pruneLoneNeighbors(tents, trees)) {\r\n                return false;\r\n            }\r\n            after = trees.length;\r\n        } while (after < before);\r\n        return true;\r\n    }\r\n    function pruneLoneNeighbors(ps, qs) {\r\n        let i = 0;\r\n        while (i < ps.length) {\r\n            const p = ps[i];\r\n            const neighbors = js_algorithms_1.filter(js_algorithms_1.indices(qs), i => p.touches4(qs[i]));\r\n            if (neighbors.length === 0) {\r\n                return false;\r\n            }\r\n            else if (neighbors.length === 1) {\r\n                ps.splice(i, 1);\r\n                qs.splice(neighbors[0], 1);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.tentTreeBijectionExists = tentTreeBijectionExists;\r\nfunction isValid(grid, rowConstraints, columnConstraints) {\r\n    return gridSatisfiesConstraints(grid, rowConstraints, columnConstraints) && !containsTouchingTents(grid);\r\n}\r\nexports.isValid = isValid;\r\nfunction isSolved(grid, rowConstraints, columnConstraints) {\r\n    return util_1.noUnknownsLeft(grid) && gridSatisfiesConstraints(grid, rowConstraints, columnConstraints) && !containsTouchingTents(grid) && tentTreeBijectionExists(grid);\r\n}\r\nexports.isSolved = isSolved;\r\n\n\n//# sourceURL=webpack:///./src/validate.ts?");

/***/ })

/******/ })));